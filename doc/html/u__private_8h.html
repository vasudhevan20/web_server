<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ulfius: include/u_private.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Ulfius
   </div>
   <div id="projectbrief">HTTP Framework for REST Applications in C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">u_private.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ulfius_8h_source.html">ulfius.h</a>&quot;</code><br />
</div>
<p><a href="u__private_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a86d500a34c624c2cae56bc25a31b12f3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="u__private_8h.html#a86d500a34c624c2cae56bc25a31b12f3">UNUSED</a>(x)&#160;&#160;&#160;(void)(x)</td></tr>
<tr class="separator:a86d500a34c624c2cae56bc25a31b12f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad139b8516e52638e7ae7aeaf90db63c7"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct__u__endpoint.html">_u_endpoint</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="u__private_8h.html#ad139b8516e52638e7ae7aeaf90db63c7">ulfius_endpoint_match</a> (const char *method, const char *url, struct <a class="el" href="struct__u__endpoint.html">_u_endpoint</a> *endpoint_list)</td></tr>
<tr class="separator:ad139b8516e52638e7ae7aeaf90db63c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6625d0d51e97e9617f75c039c6fc9b88"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="u__private_8h.html#a6625d0d51e97e9617f75c039c6fc9b88">ulfius_parse_url</a> (const char *url, const struct <a class="el" href="struct__u__endpoint.html">_u_endpoint</a> *endpoint, struct <a class="el" href="struct__u__map.html">_u_map</a> *map, int check_utf8)</td></tr>
<tr class="separator:a6625d0d51e97e9617f75c039c6fc9b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad23a5b06bf987d633ba1901cf7bd66f2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="u__private_8h.html#ad23a5b06bf987d633ba1901cf7bd66f2">ulfius_set_response_header</a> (struct MHD_Response *response, const struct <a class="el" href="struct__u__map.html">_u_map</a> *response_map_header)</td></tr>
<tr class="separator:ad23a5b06bf987d633ba1901cf7bd66f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8092c2a7ad0ca1d5deedc4da6e4b4569"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="u__private_8h.html#a8092c2a7ad0ca1d5deedc4da6e4b4569">ulfius_set_response_cookie</a> (struct MHD_Response *mhd_response, const struct <a class="el" href="struct__u__response.html">_u_response</a> *response)</td></tr>
<tr class="separator:a8092c2a7ad0ca1d5deedc4da6e4b4569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9d8c9be31d8369ddd41ead48706f523"><td class="memItemLeft" align="right" valign="top">const unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="u__private_8h.html#ab9d8c9be31d8369ddd41ead48706f523">utf8_check</a> (const char *s_orig)</td></tr>
<tr class="separator:ab9d8c9be31d8369ddd41ead48706f523"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a86d500a34c624c2cae56bc25a31b12f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86d500a34c624c2cae56bc25a31b12f3">&#9670;&nbsp;</a></span>UNUSED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UNUSED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;(void)(x)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Ulfius Framework</p>
<p>REST framework library</p>
<p><a class="el" href="u__private_8h.html">u_private.h</a>: private structures and functions declarations</p>
<p>Copyright 2015-2017 Nicolas Mora <a href="#" onclick="location.href='mai'+'lto:'+'mai'+'l@'+'bab'+'el'+'oue'+'st'+'.or'+'g'; return false;">mail@<span style="display: none;">.nosp@m.</span>babe<span style="display: none;">.nosp@m.</span>loues<span style="display: none;">.nosp@m.</span>t.or<span style="display: none;">.nosp@m.</span>g</a></p>
<p>This program is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; version 2.1 of the License.</p>
<p>This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU GENERAL PUBLIC LICENSE for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this library. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.Macro to avoid compiler warning when some parameters are unused and that's ok </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad139b8516e52638e7ae7aeaf90db63c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad139b8516e52638e7ae7aeaf90db63c7">&#9670;&nbsp;</a></span>ulfius_endpoint_match()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct__u__endpoint.html">_u_endpoint</a>** ulfius_endpoint_match </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct__u__endpoint.html">_u_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint_list</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For using Ulfius in embedded systems Thanks to Dirk Uhlemann ulfius_endpoint_match return the endpoint array matching the url called with the proper http method the returned array always has its last value to NULL return NULL on memory error</p>
<p>ulfius_endpoint_match return the endpoint array matching the url called with the proper http method the returned array always has its last value to NULL return NULL on memory error returned value must be free'd after use </p>

</div>
</div>
<a id="a6625d0d51e97e9617f75c039c6fc9b88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6625d0d51e97e9617f75c039c6fc9b88">&#9670;&nbsp;</a></span>ulfius_parse_url()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ulfius_parse_url </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="struct__u__endpoint.html">_u_endpoint</a> *&#160;</td>
          <td class="paramname"><em>endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct__u__map.html">_u_map</a> *&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>check_utf8</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ulfius_parse_url fills map with the keys/values defined in the url that are described in the endpoint format url return U_OK on success </p>

</div>
</div>
<a id="ad23a5b06bf987d633ba1901cf7bd66f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad23a5b06bf987d633ba1901cf7bd66f2">&#9670;&nbsp;</a></span>ulfius_set_response_header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ulfius_set_response_header </td>
          <td>(</td>
          <td class="paramtype">struct MHD_Response *&#160;</td>
          <td class="paramname"><em>response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="struct__u__map.html">_u_map</a> *&#160;</td>
          <td class="paramname"><em>response_map_header</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ulfius_set_response_header adds headers defined in the response_map_header to the response return the number of added headers, -1 on error </p>

</div>
</div>
<a id="a8092c2a7ad0ca1d5deedc4da6e4b4569"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8092c2a7ad0ca1d5deedc4da6e4b4569">&#9670;&nbsp;</a></span>ulfius_set_response_cookie()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ulfius_set_response_cookie </td>
          <td>(</td>
          <td class="paramtype">struct MHD_Response *&#160;</td>
          <td class="paramname"><em>mhd_response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="struct__u__response.html">_u_response</a> *&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>ulfius_set_response_cookie adds cookies defined in the response_map_cookie return the number of added headers, -1 on error </p>

</div>
</div>
<a id="ab9d8c9be31d8369ddd41ead48706f523"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9d8c9be31d8369ddd41ead48706f523">&#9670;&nbsp;</a></span>utf8_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char* utf8_check </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s_orig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The <a class="el" href="u__private_8h.html#ab9d8c9be31d8369ddd41ead48706f523">utf8_check()</a> function scans the '\0'-terminated string starting at s. It returns a pointer to the first byte of the first malformed or overlong UTF-8 sequence found, or NULL if the string contains only correct UTF-8. It also spots UTF-8 sequences that could cause trouble if converted to UTF-16, namely surrogate characters (U+D800..U+DFFF) and non-Unicode positions (U+FFFE..U+FFFF). This routine is very likely to find a malformed sequence if the input uses any other encoding than UTF-8. It therefore can be used as a very effective heuristic for distinguishing between UTF-8 and other encodings.</p>
<p>I wrote this code mainly as a specification of functionality; there are no doubt performance optimizations possible for certain CPUs.</p>
<p>Markus Kuhn <a href="http://www.cl.cam.ac.uk/~mgk25/">http://www.cl.cam.ac.uk/~mgk25/</a> &ndash; 2005-03-30 License: <a href="http://www.cl.cam.ac.uk/~mgk25/short-license.html">http://www.cl.cam.ac.uk/~mgk25/short-license.html</a> </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
